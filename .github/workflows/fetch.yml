name: Fetch from source
on:
  schedule:
    - cron:  0 0 * * *
  workflow_dispatch:

jobs:
  Get-Source:
      name: Get source
      runs-on: ubuntu-latest
      steps:
          - uses: actions/checkout@v3
          - run: git config --global user.name 'Markus Mafz'
          - run: git config --global user.email 'headquarter8302@users.noreply.github.com'
          - run: echo "Scheduled run each 0:00 UTC"
          - run: echo "Fetching from site..."
          - run: echo "$GITHUB_WORKSPACE" && cd "$GITHUB_WORKSPACE"
          - run: git add Common.css
          - run: wget -P /home/runner/work/Common.css -O Common.css 'https://youtube.fandom.com/wiki/MediaWiki:Common.css?action=raw'
          - run: git commit -m "Fetch latest revision from URL"
          - run: git push -u origin main
